(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{746:function(e,t,n){"use strict";n.r(t),t.default=["ic_general_avatar","0 0 95 95","95","95"]},747:function(e,t,n){"use strict";n.r(t),t.default=["ic_general_menu","0 0 24 24","24","24"]},811:function(e,t,n){},979:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(22),o=n(5),l=n(56),r=n.n(l),s=n(7),i=n.n(s),u=n(6),b=n(8),d=n(19),p=n(724),O=n(705),m=n(382),j=n(3),g=n(24),h=n(9),v=n(362),C=(n(15),n(0)),f={},w=["class","flex-wrapper"],_=["for","currency","class","visuallyhidden"],y=["class","option"],x=["class","option"],S=["id","currency","class","siteheader__select"],T=["class","siteheader__control siteheader__control--currency"],E=["class","flex-wrapper"],k=["type","button","class","siteheader__control siteheader__control--language"],B=["class","pos-relative"],V=["class","siteheader__user-avatar icon-ic"],L=["class","icon-ic icon-contain"],P=n(746).default,I=["class","icon-ic siteheader__arrow-ic"],D=n(283).default,M=["id","user-text","class","flex-wrapper"],U=["id","user","type","button","class","siteheader__control"],G=["class","pos-relative"],A=["class","flex-wrapper"],W=["type","button","class","siteheader__control"],Y=["class","pos-relative"],q=["class","flex-wrapper"],N=["type","button","class","siteheader__control"],z=["class","pos-relative"],F=["id","ctest-text","class","flex-wrapper"],R=["id","ctest","type","button","class","siteheader__control siteheader__control--ctest"],X=["class","pos-relative"],H=["alt","","class","siteheader__user-avatar icon-ic"],J=["class","icon-ic icon-contain icon-icn_hamburger_menu"],$=n(747).default,Z=["class","flex-wrapper"],K=["type","button","class","siteheader__control siteheader__control--hamburger"],Q=["class","siteheader__headertools js_header_tools siteheader__menu"];f.render=function(e){if(Object(C.elementOpen)("div",",Yexixh",Q,"ref",e.root),e.isAboveScreenMedium){Object(C.elementOpen)("div","k+iN+oV",T),Object(C.elementOpen)("div","qmGmXqH",w),Object(C.text)(e.activeCurrencyName),Object(C.elementClose)("div"),Object(C.elementOpen)("label","@dMa:`D",_),Object(C.text)(window.translate("language_selector_header_currency")),Object(C.elementClose)("label"),Object(C.elementOpen)("select","bj}IMh.",S,"onchange",e.handleCurrenciesChange),Object(C.elementOpen)("optgroup",null,null,"label",window.translate("currency_top"));for(var t=e.topCurrencies,a=0,c=t.length,o=t[0];a<c;o=t[++a])Object(C.elementOpen)("option",""+o.currency,y,"selected",o.currency==e.activeCurrencyName,"value",o.currency),Object(C.text)(o.currency),Object(C.text)(" - "),Object(C.text)(o.name),Object(C.elementClose)("option");Object(C.elementClose)("optgroup"),Object(C.elementOpen)("optgroup",null,null,"label",window.translate("currency_all"));for(var l=e.currencies,r=0,s=l.length,i=l[0];r<s;i=l[++r])Object(C.elementOpen)("option",""+i.currency,x,"selected",i.currency==e.activeCurrencyName,"value",i.currency),Object(C.text)(i.currency),Object(C.text)(" - "),Object(C.text)(i.name),Object(C.elementClose)("option");Object(C.elementClose)("optgroup"),Object(C.elementClose)("select"),Object(C.elementClose)("div"),e.languages.length>1&&(Object(C.elementOpen)("div","UT5U6@L",B),Object(C.elementOpen)("button","E9^Al~i",k,"onclick",e.handleLanguageBoxClick),Object(C.elementOpen)("span","uCEJ8*H",E),Object(C.text)(e.activeLanguage.languageCode.toUpperCase()),Object(C.elementClose)("span"),Object(C.elementClose)("button"),"language"==e.activeView&&Object(C.component)(v.a,"drawer-toolbar"+e.activeView,{ContentComponent:e.views.language,showDropdown:!0,position:"bottom-center",user:e.user,languages:e.languages,l10n:e.l10n}),Object(C.elementClose)("div")),null!==e.user?(Object(C.elementOpen)("div","x.Ty_N1",G,"onmouseenter",e.handleUserBoxEnter,"onmouseleave",e.handleUserBoxLeave),Object(C.elementOpen)("button","^uUmR;]",U),Object(C.elementOpen)("span","%R=B`f+",M),null!==e.user.image?Object(C.elementVoid)("img","eRb(3=g",V,"src",e.user.image):(Object(C.elementOpen)("span","general/avatar",L),n(23).default(P),Object(C.elementClose)("span")),Object(C.text)(null!==e.user.name?e.user.name:e.user.email),Object(C.elementOpen)("span","general/arrow-down",I),n(23).default(D),Object(C.elementClose)("span"),Object(C.elementClose)("span"),Object(C.elementClose)("button"),"user"==e.activeView&&Object(C.component)(v.a,"drawer-toolbar"+e.activeView,{ContentComponent:e.views.user,showDropdown:!0,position:"bottom-trailing",user:e.user,languages:e.languages,l10n:e.l10n,customClasses:"header-popover header-popover--member"}),Object(C.elementClose)("div")):(Object(C.elementOpen)("div","hAps+#x",Y),Object(C.elementOpen)("button","(]e`0B2",W,"onClick",e.handleSignup),Object(C.elementOpen)("span","6F3$Tkt",A),Object(C.text)(window.translate("login_signup")),Object(C.elementClose)("span"),Object(C.elementClose)("button"),Object(C.elementClose)("div"),Object(C.elementOpen)("div","T|H%Seg",z),Object(C.elementOpen)("button","t$Pj`fz",N,"ref",null!=e.logIn&&""!==e.logIn?e.logIn:"","onClick",e.handleLogin),Object(C.elementOpen)("span","!s;pH}T",q),Object(C.text)(window.translate("signin_member")),Object(C.elementClose)("span"),Object(C.elementClose)("button"),"best-price-guarantee"==e.activeView&&Object(C.component)(v.a,"popover-toolbar"+e.activeView,{ContentComponent:e.views.bestPriceGuarantee,showDropdown:!0,position:"bottom-trailing",onBestPriceGuaranteeClose:e.onBestPriceGuaranteeClose}),Object(C.elementClose)("div")),e.views.ctest&&(Object(C.elementOpen)("div","j{,!6Ud",X),Object(C.elementOpen)("button","*dBA2I2",R,"onclick",e.handleCTestBoxClick),Object(C.elementOpen)("span","OD8[W!A",F),Object(C.text)("CT"),Object(C.elementClose)("span"),Object(C.elementClose)("button"),Object(C.elementClose)("div"),"ctest"==e.activeView&&Object(C.component)(v.a,"drawer-toolbar"+e.activeView,{ContentComponent:e.views.ctest,showDropdown:!0,position:"bottom-trailing",user:e.user,languages:e.languages,l10n:e.l10n}))}else Object(C.elementOpen)("button","7jELaDA",K,"onclick",e.handleMenuBoxClick),Object(C.elementOpen)("span","{qSUsF`",Z),null!==e.user&&null!==e.user.image?Object(C.elementVoid)("img","I'Ub_BJ",H,"src",e.user.image):(Object(C.elementOpen)("span","general/menu",J),n(23).default($),Object(C.elementClose)("span")),Object(C.text)(window.translate("header_menu")),Object(C.elementClose)("span"),Object(C.elementClose)("button"),"best-price-guarantee"==e.activeView&&Object(C.component)(v.a,"popover-toolbar"+e.activeView,{ContentComponent:e.views.bestPriceGuarantee,showDropdown:!0,position:"bottom-trailing",customClasses:"header-popover best-price-popover",onBestPriceGuaranteeClose:e.onBestPriceGuaranteeClose});Object(C.elementClose)("div")};var ee={},te=["type","button","class","w-100 ta-leading fs-menu__button"],ne=["class","fs-menu__item"],ae=["class","fs-menu__list"],ce=["class","fs-menu__section"];ee.render=function(e){Object(C.elementOpen)("section","}1i~CC3",ce),Object(C.elementOpen)("ul","B2?#nr+",ae);for(var t=e.languages,n=0,a=t.length,c=t[0],o=1,l=a-1;n<a;c=t[++n])Object(C.elementOpen)("li",""+o,ne),Object(C.elementOpen)("button","8@)X#*'",te,"onclick",e.handleLanguageChange,"data-index",o,"title",c.label,"lang",c.languageCode),Object(C.text)(c.languageCode.toUpperCase()),Object(C.text)(" â€“ "),Object(C.text)(c.label),Object(C.elementClose)("button"),Object(C.elementClose)("li"),o++,0,!1,0===--l;Object(C.elementClose)("ul"),Object(C.elementClose)("section")};var oe={localizationLanguageSet:o.w},le=Object(c.connect)(void 0,oe),re=Object(d.exposeToState)(["handleLanguageChange"]),se=le(Object(a.createComponent)(function(e){return ee.render(e)},re,{handleLanguageChange:function(e){(0,this.props.localizationLanguageSet)(e.target.getAttribute("lang"))}})),ie=n(40),ue=n(10),be=n(1),de=("function"==typeof Symbol&&Symbol.iterator,{}),pe=["class","fs-menu__item"],Oe=["class","fs-menu__item"],me=["class","fs-menu__item"],je=["class","fs-menu__item"],ge=["class","fs-menu__list"],he=["class","fs-menu__section"];de.render=function(e){if(Object(C.elementOpen)("section","2r]k$Vv",he),Object(C.elementOpen)("ul","uVSs8~N",ge),null!==e.user){Object(C.elementOpen)("li","IS/OvJ>",pe),Object(C.elementOpenStart)("button",null,null,"onclick",e.handleDashboardClick);for(var t=0,n=Object(be.attrs)({type:"button",class:"fs-menu__button w-100 ta-leading",disabled:e.isOffline}),a=n.length;t<a;t+=2)Object(C.attr)(n[t],n[t+1]);Object(C.elementOpenEnd)(),Object(C.text)(window.translate("dashboard_sidebar_headline")),Object(C.elementClose)("button"),Object(C.elementClose)("li"),Object(C.elementOpen)("li","+`i~XIY",Oe),Object(C.elementOpenStart)("button",null,null,"onclick",e.handleSettingsClick);for(var c=0,o=Object(be.attrs)({type:"button",class:"fs-menu__button w-100 ta-leading",disabled:e.isOffline}),l=o.length;c<l;c+=2)Object(C.attr)(o[c],o[c+1]);if(Object(C.elementOpenEnd)(),Object(C.text)(window.translate("account_navigation_settings")),Object(C.elementClose)("button"),Object(C.elementClose)("li"),Object(ue.a)("BookingOverviewFeature")){Object(C.elementOpen)("li","I1U)LX+",me),Object(C.elementOpenStart)("button",null,null,"onclick",e.handleOverviewClick);for(var r=0,s=Object(be.attrs)({type:"button",class:"fs-menu__button w-100 ta-leading",disabled:e.isOffline}),i=s.length;r<i;r+=2)Object(C.attr)(s[r],s[r+1]);Object(C.elementOpenEnd)(),Object(C.text)(window.translate("account_navigation_booking_itinerary")),Object(C.elementClose)("button"),Object(C.elementClose)("li")}Object(C.elementOpen)("li","XXZ9m$V",je),Object(C.elementOpenStart)("button",null,null,"onclick",e.handleLogoutClick);for(var u=0,b=Object(be.attrs)({type:"button",class:"fs-menu__button w-100 ta-leading",disabled:e.isOffline}),d=b.length;u<d;u+=2)Object(C.attr)(b[u],b[u+1]);Object(C.elementOpenEnd)(),Object(C.text)(window.translate("logoff")),Object(C.elementClose)("button"),Object(C.elementClose)("li")}Object(C.elementClose)("ul"),Object(C.elementClose)("section")};var ve=we(["my/dashboard"],["my/dashboard"]),Ce=we(["my/settings"],["my/settings"]),fe=we(["my/express-booking/overview"],["my/express-booking/overview"]);function we(e,t){return e.raw=t,e}var _e={logout:o.y},ye=Object(c.connect)(void 0,_e),xe=Object(d.exposeToState)(["handleDashboardClick","handleSettingsClick","handleOverviewClick","handleLogoutClick"]),Se=ye(Object(a.createComponent)(function(e){return de.render(e)},xe,{handleDashboardClick:function(){Object(j.b)("100:2472:15",{sendDirectly:!0}),window.location=Object(ie.a)(ve)},handleSettingsClick:function(){Object(j.b)("100:2472:17",{sendDirectly:!0}),window.location=Object(ie.a)(Ce)},handleOverviewClick:function(){Object(j.b)("100:2472:18",{sendDirectly:!0}),window.location=Object(ie.a)(fe)},handleLogoutClick:function(){var e=this.props.logout;Object(j.b)("100:2472:16",{sendDirectly:!0}),e()}})),Te=n(360),Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ke=i()(h.a,["bestPriceGuarantee","showPopover"],!1),Be={activeView:null,views:{user:Se,language:se,bestPriceGuarantee:Te.BestPriceGuaranteePopover},bestPriceGuaranteeShown:!1},Ve=n(378),Le=n(151),Pe=n(706),Ie=n(709),De=function(e,t){return e.pipe(Object(Ve.a)("SET_VIEWTYPE"),Object(Le.a)(function(e){return"user"===e.payload}),Object(Pe.a)(t),Object(m.a)(function(e){e[0];var t=e[1].user;return Object(j.b)("100:2472:"+(t?"21":"20"))}),Object(Ie.a)())},Me=n(78),Ue=Object(b.createSelector)(function(e){return e.localization.currencies},function(e){return e.filter(function(e){return e.isTop})}),Ge=Object(b.createSelector)(function(e){return e.security.user},function(e){return e.localization},Ue,function(e){return e.browser.viewport.isAboveScreenMedium},function(e){return e.browser.viewport.isAboveScreenTablet},function(e){return e.searchForm.overlayMode},g.viewModeSelector,function(e,t,n,a,c,o,l){return{user:e,isAboveScreenMedium:a,isAboveScreenTablet:c,countries:t.countries,languages:t.languages,activeLanguage:t.activeLanguage,currencies:t.currencies,topCurrencies:n,activeCurrency:t.activeCurrency,activeCurrencyName:t.activeCurrencyName,l10n:t.l10n,isFetchingCountries:!1,viewMode:l,overlayMode:o}}),Ae={localizationCurrencySet:o.v,headerOpenMenu:o.j,login:o.x,signup:o.Bb},We=Object(u.compose)(Object(c.connect)(Ge,Ae),Object(u.withRefs)(function(e){return{root:function(t){return e.refs.root=t,{unsubscribe:function(){e.refs.root=null}}},logIn:function(t){return Object(ue.a)("bpg")?Object(O.a)(t,"mouseenter").pipe(Object(m.a)(function(){var t=e.getState(),n=t.viewMode,a=t.activeView;h.a.bestPriceGuarantee.showPopover&&!Object(g.isOnHomepage)(n)&&"best-price-guarantee"!==a&&e.dispatch({type:"SET_VIEWTYPE",payload:"best-price-guarantee"})})).subscribe():{unsubscribe:function(){}}}}}),Object(Me.f)([{getElements:function(){var e=this.getState().activeView,t=[this.el.querySelector(".siteheader__headertools .popover"),i()(document.querySelector(".siteheader__control--ctest"),"parentElement"),document.querySelector("#js-trv-overlay-component")];return"best-price-guarantee"===e&&t.push(this.el.querySelector(".price-guarantee__popover")),r()(t)},action:function(){null!==this.state.activeView&&this.dispatch({type:"SET_VIEWTYPE",payload:null})}}])),Ye=Object(d.exposeToState)(["handleCurrenciesChange","handleSignup","handleLogin","handleUserBoxEnter","handleUserBoxLeave","handleLanguageBoxClick","handleCTestBoxClick","handleMenuBoxClick","onBestPriceGuaranteeClose"],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments[1],n=t.type,c=t.payload;switch(n){case a.RECEIVE_PROPS:var o=ke&&!e.bestPriceGuaranteeShown&&Object(g.isOnList)(c.viewMode)&&null===c.overlayMode&&c.isAboveScreenTablet,l=o||e.bestPriceGuaranteeShown;return Ee({},e,c,{bestPriceGuaranteeShown:l,activeView:o?"best-price-guarantee":e.activeView});case"SET_VIEWTYPE":return Ee({},e,{activeView:c,bestPriceGuaranteeShown:"best-price-guarantee"===e.activeView&&null===c});case"CTESTTOOL_LOADED":return Ee({},e,{views:Ee({},e.views,{ctest:c})});default:return e}}),qe=Object(p.a)(),Ne=We(Object(a.createComponent)(function(e){return f.render(e)},Ye,function(e){var t=e.componentDidMount,a=e.componentDidUpdate,c=e.componentWillUnmount;return{componentDidMount:function(){var e=this;qe.run(De),h.a.ctestviewer.isEnabled&&n.e(1).then(n.bind(null,981)).then(function(t){var n=t.default;return e.dispatch({type:"CTESTTOOL_LOADED",payload:n})}),this.userBoxTimeOutId=null,t.call(this)},componentDidUpdate:function(e,t){var n=this.state.activeView;requestAnimationFrame(function(){null===n?(document.body.classList.remove("header-active"),document.body.classList.remove("header-ctest-active"),document.body.classList.remove("header-bpg-active")):(document.body.classList.add("header-active"),"ctest"===n&&document.body.classList.add("header-ctest-active"),"best-price-guarantee"===n&&document.body.classList.add("header-bpg-active"))}),a.call(this,e,t)},componentWillUnmount:function(){null!==this.userBoxTimeOutId&&clearTimeout(this.userBoxTimeOutId),c.call(this)},handleCurrenciesChange:function(e){(0,this.props.localizationCurrencySet)(e.target.value)},handleSignup:function(){var e=this.props.signup;Object(j.b)("100:2472:14",{sendDirectly:!0}),e()},handleLogin:function(){var e=this.props.login;Object(j.b)("100:2472:13",{sendDirectly:!0}),e()},handleUserBoxEnter:function(){null!==this.userBoxTimeOutId&&(clearTimeout(this.userBoxTimeOutId),this.userBoxTimeOutId=null),this.dispatch({type:"SET_VIEWTYPE",payload:"user"})},handleUserBoxLeave:function(){var e=this;this.userBoxTimeOutId=setTimeout(function(){"user"===e.state.activeView&&e.dispatch({type:"SET_VIEWTYPE",payload:null})},500)},handleLanguageBoxClick:function(){this.dispatch({type:"SET_VIEWTYPE",payload:"language"})},handleCTestBoxClick:function(){var e="ctest"===this.state.activeView?null:"ctest";this.dispatch({type:"SET_VIEWTYPE",payload:e})},handleMenuBoxClick:function(){(0,this.props.headerOpenMenu)()},onBestPriceGuaranteeClose:function(){this.dispatch({type:"SET_VIEWTYPE",payload:null})}}},Object(d.applyMiddleware)(qe))),ze=(n(811),Object(c.provide)(o.d,Ne)),Fe=document.getElementById("js-header");Fe&&Object(a.render)(Fe,ze),document.querySelector(".js_filter_tools").addEventListener("click",function(){Object(j.b)("100:2508:3"),o.d.dispatch(Object(o.db)("filters"))})}}]);
//# sourceMappingURL=header.9e3405c28a6fb9124eb9.js.map